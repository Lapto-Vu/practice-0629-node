(()=>{function e(e,t,n,a,r,u,o){try{var c=e[u](o),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(a,r)}function t(t){return function(){var n=this,a=arguments;return new Promise((function(r,u){var o=t.apply(n,a);function c(t){e(o,r,u,c,i,"next",t)}function i(t){e(o,r,u,c,i,"throw",t)}c(void 0)}))}}var n=document.querySelector("video"),a=document.getElementById("videoController"),r=document.getElementById("playPauseBtn"),u=document.getElementById("currentZone"),o=document.getElementById("durationTime"),c=document.getElementById("timeRange"),i=document.getElementById("volume"),d=document.getElementById("volumeRange"),l=document.getElementById("fullScreen"),m=document.getElementById("videoInner"),s=document.getElementById("comments"),f=document.getElementById("text"),v=document.querySelectorAll(".comment__delete"),p=.5;n.volume=p;var E=null,y=null,g=function(){n.paused?(n.play(),r.className="fas fa-pause",L()):(n.pause(),r.className="fas fa-play")},h=function(e){return new Date(1e3*e).toISOString().substr(14,5)},L=function(){o.innerText=h(Math.floor(n.duration)),c.max=Math.floor(n.duration)},T=function(){return a.style.opacity="0"},I=function(){var e=t(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=f.value,a=m.dataset.id,""!==n){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,fetch("/api/videos/".concat(a,"/comment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:n})});case 7:f.value="",window.location.reload();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=t(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.dataset.id,e.next=3,fetch("/api/comment/".concat(n,"/delete"),{method:"DELETE"});case 3:window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();v.forEach((function(e){e.addEventListener("click",w)})),s.addEventListener("submit",I),r.addEventListener("click",g),i.addEventListener("click",(function(){n.muted?(n.muted=!1,d.value=p,i.className="fas fa-volume-up"):(n.muted=!0,d.value=0,i.className="fas fa-volume-mute")})),d.addEventListener("input",(function(e){var t=e.target.value;n.muted&&(n.muted=!1,i.className="fas fa-volume-mute"),i.className="0"===t?"fas fa-volume-off":"fas fa-volume-up",n.volume=p=t})),n.addEventListener("loadedmetadata",L),n.addEventListener("timeupdate",(function(){u.innerText=h(Math.floor(n.currentTime)),c.value=Math.floor(n.currentTime)})),c.addEventListener("input",(function(e){return n.currentTime=e.target.value})),l.addEventListener("click",(function(){document.fullscreenElement?document.exitFullscreen():m.requestFullscreen()})),n.addEventListener("click",g),m.addEventListener("mousemove",(function(){E&&(clearTimeout(E),E=null),y&&(clearTimeout(y),y=null),a.style.opacity="1",y=setTimeout(T,3e3)})),m.addEventListener("mouseleave",(function(){E=setTimeout(T,500)})),n.addEventListener("ended",(function(){var e=m.dataset.id;fetch("/api/videos/".concat(e,"/view"),{method:"POST"})}))})();